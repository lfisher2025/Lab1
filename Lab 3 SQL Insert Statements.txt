-- Insert Users
INSERT INTO Users (firstName, lastName, middleInitial, role, phoneNumber, email) VALUES
('Cody', 'Bridge', 'M', 'faculty', '540-555-5964', 'bridg2cm@dukes.jmu.edu'),
('Luke', 'Fisher', 'J', 'admin', '540-555-8901', 'fishe4lj@dukes.jmu.edu'),
('Jeremy', 'Ezell', 'D', 'employee', '540-568-3222', 'ezelljd@jmu.edu'),
('Carey', 'Cole', 'B', 'representative', '540-568-3439', 'colecb@jme.edu');

-- Insert Admin
INSERT INTO Admin (adminID) 
SELECT userID FROM Users WHERE role = 'admin';

-- Insert Employee
INSERT INTO Employee (employeeID, adminID) 
SELECT userID, adminID 
FROM Users 
JOIN Admin ON adminID = adminID
WHERE role = 'employee';

-- Insert Representative
INSERT INTO Representative (representativeID) 
SELECT userID FROM Users WHERE role = 'representative';

-- Insert Faculty
INSERT INTO Faculty (facultyID, schoolName, department) 
SELECT userID, 'Engineering College', 'Computer Science' 
FROM Users WHERE role = 'faculty';

-- Insert Business Partners
INSERT INTO BusinessPartner (name, representativeID, status) 
SELECT 'TechCorp', representativeID, 'Active Partner' FROM Representative
UNION ALL
SELECT 'EduGrant Inc.', representativeID, 'Memo Signed' FROM Representative;

-- Insert Grants
INSERT INTO Grants (name, category, amount, businessID) VALUES
('Tech Innovation Grant', 'Business-funded', 50000.00, (SELECT TOP 1 businessID FROM BusinessPartner WHERE name = 'TechCorp')),
('STEM Education Grant', 'Federal', 100000.00, NULL);

-- Insert FacultyGrant
INSERT INTO FacultyGrant (grantID, facultyID)
SELECT grantID, facultyID FROM Grants, Faculty;

-- Insert Projects
INSERT INTO Project (grantID, employeeID, adminID, facultyID, name, dueDate, submissionDate, completeStatus) 
VALUES
((SELECT TOP 1 grantID FROM Grants WHERE name = 'Tech Innovation Grant'),
 (SELECT TOP 1 employeeID FROM Employee),
 (SELECT TOP 1 adminID FROM Admin),
 (SELECT TOP 1 facultyID FROM Faculty),
 'AI Research', '2025-06-30', NULL, 0),

((SELECT TOP 1 grantID FROM Grants WHERE name = 'STEM Education Grant'),
 (SELECT TOP 1 employeeID FROM Employee),
 (SELECT TOP 1 adminID FROM Admin),
 (SELECT TOP 1 facultyID FROM Faculty),
 'Robotics Program', '2025-12-15', NULL, 0);

-- Insert Notes
INSERT INTO Note (projectID, note) 
SELECT TOP 1 projectID, 'Initial research phase started.' FROM Project
UNION ALL
SELECT TOP 1 projectID, 'Awaiting funding approval.' FROM Project ORDER BY projectID DESC;

-- Insert Tasks
INSERT INTO Task (projectID, title, dueDate, assignDate, employeeID, adminID)
SELECT TOP 1 projectID, 'Develop Database', '2025-04-01', '2025-02-15', Project.employeeID, Project.adminID 
FROM Project
CROSS JOIN Employee
CROSS JOIN Admin
ORDER BY projectID;

INSERT INTO Task (projectID, title, dueDate, assignDate, employeeID, adminID)
SELECT TOP 1 projectID, 'Set up Networking Lab', '2025-10-01', '2025-03-10', Project.employeeID, Project.adminID 
FROM Project
CROSS JOIN Employee
CROSS JOIN Admin
ORDER BY projectID DESC;

-- Insert Meeting
INSERT INTO Meeting (adminID, representativeID, title, minutes)
SELECT TOP 1 adminID, 4, 'Partnership Kickoff', 'Discussed project scope and expectations'
FROM Admin



